.TH "OBSYNC" "1" "September 22, 2011" "dev" "Ceph"
.SH NAME
obsync \- The object synchronizer tool
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructeredText.
.
.SH SYNOPSIS
.nf
\fBobsync\fP [ \fIoptions\fP ] \fIsource\-url\fP \fIdestination\-url\fP
.fi
.sp
.SH DESCRIPTION
.sp
\fBobsync\fP is an object syncrhonizer tool designed to transfer objects
between different object storage systems. Similar to rsync, you
specify a source and a destination, and it will transfer objects
between them until the destination has all the objects in the
source. Obsync will never modify the source \-\- only the destination.
.sp
By default, obsync does not delete anything. However, by specifying
\fB\-\-delete\-after\fP or \fB\-\-delete\-before\fP, you can ask it to delete
objects from the destination that are not in the source.
.SH TARGET TYPES
.sp
Obsync supports S3 via \fBlibboto\fP. To use the s3 target, your URL
should look like this: \fBs3://host\-name/bucket\-name\fP
.sp
Obsync supports storing files locally via the \fBfile://\fP target. To
use the file target, your URL should look like this:
\fBfile://directory\-name\fP
.sp
Alternately, give no prefix, like this: \fB./directory\-name\fP
.sp
Obsync supports storing files in a RADOS Gateway backend via the
\fBlibrados\fP Python bindings. To use the \fBrgw\(ga target, your URL
should look like this: \(ga\(gargw:ceph\-configuration\-path:rgw\-bucket\-name\fP
.SH OPTIONS
.INDENT 0.0
.TP
.B \-h, \-\-help
Display a help message
.UNINDENT
.INDENT 0.0
.TP
.B \-n, \-\-dry\-run
Show what would be done, but do not modify the destination.
.UNINDENT
.INDENT 0.0
.TP
.B \-c, \-\-create\-dest
Create the destination if it does not exist.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-delete\-before
Before copying any files, delete objects in the destination that
are not in the source.
.UNINDENT
.INDENT 0.0
.TP
.B \-L, \-\-follow\-symlinks
Follow symlinks when dealing with \fBfile://\fP targets.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-preserve\-acls
Don\(aqt preserve ACLs when copying objects.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Be verbose.
.UNINDENT
.INDENT 0.0
.TP
.B \-V, \-\-more\-verbose
Be really, really verbose (developer mode)
.UNINDENT
.INDENT 0.0
.TP
.B \-x SRC=DST, \-\-xuser SRC=DST
Set up a user translation. You can specify multiple user
translations with multiple \fB\-\-xuser\fP arguments.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-force
Overwrite all destination objects, even if they appear to be the
same as the source objects.
.UNINDENT
.SH ENVIRONMENT VARIABLES
.INDENT 0.0
.TP
.B SRC_AKEY
Access key for the source URL
.UNINDENT
.INDENT 0.0
.TP
.B SRC_SKEY
Secret access key for the source URL
.UNINDENT
.INDENT 0.0
.TP
.B DST_AKEY
Access key for the destination URL
.UNINDENT
.INDENT 0.0
.TP
.B DST_SKEY
Secret access key for the destination URL
.UNINDENT
.INDENT 0.0
.TP
.B AKEY
Access key for both source and dest
.UNINDENT
.INDENT 0.0
.TP
.B SKEY
Secret access key for both source and dest
.UNINDENT
.INDENT 0.0
.TP
.B DST_CONSISTENCY
Set to \(aqeventual\(aq if the destination is eventually consistent. If the destination
is eventually consistent, we may have to retry certain operations multiple times.
.UNINDENT
.SH EXAMPLES
.sp
.nf
.ft C
AKEY=... SKEY=... obsync \-c \-d \-v ./backup\-directory s3://myhost1/mybucket1
.ft P
.fi
.sp
Copy objects from backup\-directory to mybucket1 on myhost1:
.sp
.nf
.ft C
SRC_AKEY=... SRC_SKEY=... DST_AKEY=... DST_SKEY=... obsync \-c \-d \-v s3://myhost1/mybucket1 s3://myhost1/mybucket2
.ft P
.fi
.sp
Copy objects from mybucket1 to mybucket2
.SH AVAILABILITY
.sp
\fBobsync\fP is part of the Ceph distributed file system. Please refer
to the Ceph wiki at \fI\%http://ceph.newdream.net/wiki\fP for more
information.
.SH COPYRIGHT
2011, New Dream Network
.\" Generated by docutils manpage writer.
.\" 
.
